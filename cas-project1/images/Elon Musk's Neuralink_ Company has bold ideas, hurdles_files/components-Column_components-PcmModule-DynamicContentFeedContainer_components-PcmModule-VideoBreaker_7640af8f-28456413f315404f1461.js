(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[9],{1727:function(e,t,a){"use strict";(function(e){var o=a(36),n=a.n(o),i=a(37),A=a.n(i),r=a(68),s=a.n(r),l=a(69),c=a.n(l),d=a(48),u=a.n(d),p=a(0),m=a.n(p),h=a(1),f=a.n(h),E=a(35),y=a(29),I=a(860),v=a(492),C=a(857),N=a(853),R=a(851),b=a(46),g=a(306);function D(e){var t=P();return function(){var a,o=u()(e);if(t){var n=u()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return c()(this,a)}}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=y.b,S={};S[y.a]=Object(R.a)({chunkName:"components/shared/Article/InlineVideo/styles.acorns.scss",requireAsync:function(){return a.e(221).then(a.t.bind(null,1352,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1352}}),S[y.b]=Object(R.a)({chunkName:"components/shared/Article/InlineVideo/styles.cnbc.scss",requireAsync:function(){return a.e(385).then(a.t.bind(null,1353,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1353}}),S[y.d]=Object(R.a)({chunkName:"components/shared/Article/InlineVideo/styles.makeit.scss",requireAsync:function(){return a.e(282).then(a.t.bind(null,1354,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1354}});var T=function(e){s()(a,e);var t=D(a);function a(e){var o;return n()(this,a),(o=t.call(this,e)).state={isHovered:!1},o}return A()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.videoData,o=t.dataId,n=t.brand,i=t.isRelatedVideo,A=t.hideTitle,r=t.videoIsPlayingOrPaused,s=t.featuredMediaFlag,l=t.isFeaturedBreakerVideo,c=t.inlineVideoFooterClassName,d=t.inlineVideoTitleClassName,u=t.playButtonClassName,p=t.playButtonIconClassName,h=t.styles,f=t.showProVideoGate,y=t.smallMarginBottom,R=m.a.createElement(b.b,{to:"/pro/",className:h.proSmall,dataType:"pro-button"},m.a.createElement("span",{className:"".concat(h.proIcon," icon-probug")})),D=a.duration||0,P=a.section;return m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[h.relatedVideo,i],[h.isFeaturedBreakerVideo,l],[h.smallMarginBottom,y]]},h.videoEmbed),id:"InlineVideo-".concat(o),"data-test":"InlineVideo",onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})}},i&&m.a.createElement("div",{className:h.relatedVideoBackgroundPattern}),m.a.createElement("div",{className:h.wrapper},m.a.createElement(v.a,null,m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[h.inlineBackgroundImageContainer,!i&&!l],[h.relatedBackgroundImageContainer,i||l]]}),alt:a.headline,style:a.thumbnail&&{backgroundImage:'url("'.concat(a.thumbnail).concat(a.thumbnail.includes("?")?"&":"?",'w=750&h=422")'),backgroundSize:"cover",width:"100%"}},f&&m.a.createElement("div",{className:g.a.desktop,style:{zIndex:100,position:"relative"}}),!f&&m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:h.videoButton}),!r&&m.a.createElement("span",{className:h.playButton},m.a.createElement(I.a,{dataId:o,brand:n,buttonType:"play",featuedMediaFlag:s,isFeatured:!0,sizeVariationFour:!0,hoverInitiated:this.state.isHovered,playButtonClassName:u,playButtonIconClassName:p}))))),this.props.showMetadata&&m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[h.recommendedVideo,this.props.recommendedVideo],[h.hideTitle,A]]},h.videoFooter,c)},m.a.createElement("div",{className:h.videoDurationContainer},m.a.createElement("span",{className:h.videoLabel},"VIDEO"),m.a.createElement("span",{className:h.videoDurationWithLeading0},Object(C.b)(D,!1)),m.a.createElement("span",{className:h.videoDuration},Object(C.b)(D))),m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[h.featuredMediaInlineVideo,s]]},h.title,d)},a.premium?R:null,!A&&(a.shorterHeadline?a.shorterHeadline:Object(N.h)(a.title,75))),P&&m.a.createElement("div",{className:h.section},m.a.createElement(b.b,{to:P.url,brand:a.brand,assetType:P.type,sectionSubType:P.subType,native:a.native},P.headline)))))}}]),a}(m.a.Component);T.propTypes={videoData:f.a.object.isRequired,dataId:f.a.oneOfType([f.a.string,f.a.number]),brand:f.a.string,isRelatedVideo:f.a.bool,hideTitle:f.a.bool,videoIsPlayingOrPaused:f.a.bool,showMetadata:f.a.bool,featuredMediaFlag:f.a.bool,isFeaturedBreakerVideo:f.a.bool,recommendedVideo:f.a.bool,inlineVideoFooterClassName:f.a.string,inlineVideoTitleClassName:f.a.string,playButtonClassName:f.a.string,playButtonIconClassName:f.a.string,showProVideoGate:f.a.bool,smallMarginBottom:f.a.bool,styles:f.a.object.isRequired},T.defaultProps={dataId:0,brand:O,isRelatedVideo:!1,hideTitle:!1,videoIsPlayingOrPaused:!1,showMetadata:!0,featuredMediaFlag:!1,isFeaturedBreakerVideo:!1,recommendedVideo:!1,inlineVideoFooterClassName:"",inlineVideoTitleClassName:"",playButtonClassName:"",playButtonIconClassName:"",showProVideoGate:!1,smallMarginBottom:!1},t.a=Object(R.b)(S,T)}).call(this,"/")},1728:function(e,t,a){e.exports=a.p+"a2652519f5aef5317c2c79dfd69d122a.jpg"},1729:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",progress:"Timer-progress",dash:"Timer-dash",sticky:"Timer-sticky","sticky-dash":"Timer-sticky-dash",buttonWrapper:"Timer-buttonWrapper",buttonWrapperEnded:"Timer-buttonWrapperEnded Timer-buttonWrapper"}},1730:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",cancel:"ScaledTimer-cancel"}},1731:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",endCardWrapper:"Recommend-endCardWrapper",title:"Recommend-title",replay:"Recommend-replay",buttons:"Recommend-buttons",content:"Recommend-content",eyebrow:"Recommend-eyebrow",compact:"Recommend-compact",mobile:"Recommend-mobile",sticky:"Recommend-sticky",titleDark:"Recommend-titleDark Recommend-title",slideshowItem:"Recommend-slideshowItem",cancel:"Recommend-cancel"}},1732:function(e,t,a){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.createElement("video");return new Promise((function(a,o){t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),e.body.appendChild(t),t.muted=!1,t.src="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";var n=t.play();n&&"function"==typeof n.then&&"function"==typeof n.catch?n.then((function(){return a(!0)})).catch((function(){return o(!1)})):a(!0)})).catch((function(){return!1})).then((function(e){return t&&t.parentNode&&t.parentNode.removeChild(t),e}))}a.d(t,"a",(function(){return o}))},1974:function(e,t,a){"use strict";var o=a(22),n=a.n(o),i=a(36),A=a.n(i),r=a(37),s=a.n(r),l=a(123),c=a.n(l),d=a(68),u=a.n(d),p=a(69),m=a.n(p),h=a(48),f=a.n(h),E=a(4),y=a.n(E),I=a(0),v=a.n(I),C=a(1),N=a.n(C),R=a(220),b=a(53),g=a(990),D=a(30),P=a(219),O=a(859),S=a(6),T=a(1728),k=a.n(T),V="SUBMIT_REQUEST",_="RECEIVE_ERROR",M="RECEIVE_RESPONSE",w="OFFER_RECOMMENDED_VIDEO",B="PLAY_RECOMMENDED_VIDEO",W="DISMISS_RECOMMENDED_VIDEO",L="RESET_RECOMMENDATION",F="ABANDON_RECOMMENDATION",x="RELOAD_RECOMMENDATION",j={UNDEFINED:"UNDEFINED",INITIAL:"INITIAL",REQUEST_IN_PROGRESS:"REQUEST_IN_PROGRESS",REQUEST_ERROR:"REQUEST_ERROR",REQUEST_COMPLETE:"REQUEST_COMPLETE",RECOMMENDATION_OFFERED:"RECOMMENDATION_OFFERED",RECOMMENDATION_ACCEPTED:"RECOMMENDATION_ACCEPTED",RECOMMENDATION_DISMISSED:"RECOMMENDATION_DISMISSED",RECOMMENDATION_INACTIVE:"RECOMMENDATION_INACTIVE",DISPLAY_OVERRIDE:"DISPLAY_OVERRIDE"};var U=function(e,t){var a,o;if(a=t.recommendationWorkflowState,null!=e){switch(t.recommendationWorkflowState){case j.RECOMMENDATION_INACTIVE:switch(e){case x:a=j.INITIAL}break;case j.INITIAL:switch(e){case V:a=j.REQUEST_IN_PROGRESS;break;case L:a=j.INITIAL}break;case j.REQUEST_IN_PROGRESS:switch(e){case M:a=j.REQUEST_COMPLETE;break;case _:a=j.REQUEST_ERROR;break;case F:a=j.RECOMMENDATION_INACTIVE}break;case j.REQUEST_COMPLETE:switch(e){case w:a=j.RECOMMENDATION_OFFERED}break;case j.RECOMMENDATION_OFFERED:switch(e){case B:a=j.RECOMMENDATION_ACCEPTED;break;case W:a=j.RECOMMENDATION_DISMISSED;break;case F:a=j.RECOMMENDATION_INACTIVE}break;case j.RECOMMENDATION_ACCEPTED:switch(e){case L:a=j.RECOMMENDATION_INACTIVE}break;case j.RECOMMENDATION_DISMISSED:switch(e){case B:a=j.RECOMMENDATION_ACCEPTED;break;case L:case F:a=j.RECOMMENDATION_INACTIVE}}o=a}else o=t.recommendationWorkflowState;return o},H=a(1729),Q=a.n(H);function q(e){var t="".concat(Math.round(2/e.scale),"px"),a="".concat(Math.round(1/e.scale),"px"),o="0 0 ".concat(1/e.scale,"px 0px rgba(207, 216, 226, 0.4) inset, 0 0 ").concat(1/e.scale,"px 0px rgba(207, 216, 226, 0.4)");return v.a.createElement("div",{className:Q.a.buttonWrapperEnded,style:{borderWidth:a,boxShadow:o}},v.a.createElement("span",{className:"icon-buffett-video"}),e.continuousPlay&&v.a.createElement("span",{className:Q.a.progress},v.a.createElement("svg",{height:"".concat(100),width:"".concat(100)},v.a.createElement("circle",{cx:"".concat(50),cy:"".concat(50),r:"".concat(48),strokeWidth:"".concat(t),fill:"none",style:{animationDuration:"".concat(e.duration,"s")},onAnimationEnd:e.handleAnimationend}))))}q.propTypes={scale:N.a.number,continuousPlay:N.a.bool,duration:N.a.number,handleAnimationend:N.a.func},q.defaultProps={scale:1,continuousPlay:!1,duration:5,handleAnimationend:null};var G=q,Y=a(1730),z=a.n(Y);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z(e){var t=X(X({},e.style),{},{transform:"scale(".concat(e.scale,")")});return v.a.createElement("div",{style:t},v.a.createElement(G,{handleAnimationend:e.handleAnimationend,duration:e.duration,continuousPlay:e.continuousPlay,scale:e.scale}),e.continuousPlay&&e.renderCancelButton&&v.a.createElement("div",{role:"button",className:z.a.cancel,tabIndex:"0",onClick:e.cancelClick},"Cancel"))}Z.propTypes={scale:N.a.number,style:N.a.object,continuousPlay:N.a.bool,renderCancelButton:N.a.bool,duration:N.a.number,handleAnimationend:N.a.func,cancelClick:N.a.func},Z.defaultProps={scale:1,style:{},continuousPlay:!1,renderCancelButton:!1,duration:5,handleAnimationend:null,cancelClick:null};var $=Z,J=a(11),ee=a(33),te=a.n(ee),ae=a(34),oe=a.n(ae),ne=a(17);function ie(){var e=te()(["\n  query($id: Int!, $videoRecommendation: Boolean, $url: String){\n    video(id: $id, videoRecommendation: $videoRecommendation, url: $url) {\n      ","\n    }\n  }\n"]);return ie=function(){return e},e}var Ae=oe()(ie(),ne.a),re={componentRef:null,recommendationConfig:{provider:J.a.getProperties().VIDEO_RECOMMEDATION_ENDCARD_ENGINE,feedType:""},fetchVideoRecommendation:function(e){this.componentRef=e;var t="object"===n()(this.componentRef.recommendationConfig)&&null!=this.componentRef.recommendationConfig?this.componentRef.recommendationConfig:{};return null!=t.provider&&(this.recommendationConfig.provider=t.provider),null!=t.feedType&&(this.recommendationConfig.feedType=t.feedType),null!=this.componentRef.preFetchCallback&&this.componentRef.preFetchCallback(),null!=this.recommendationConfig&&"parsely"===this.recommendationConfig.provider?this.getParselyRecommendations(this.componentRef):null!=this.recommendationConfig&&"sailthru"===this.recommendationConfig.provider&&this.getSailthruRecommendations(this.componentRef),this.componentRef.props.setVideoEndCardState({fetchVideoRecommendation:!1}),null},getVideoDataObject:function(){return null!=this.componentRef.props.videoDataWithPosition&&null!=this.componentRef.props.videoDataWithPosition.data?this.componentRef.props.videoDataWithPosition.data:this.componentRef.props.currentVideoData},getSailthruRecommendations:function(e){var t=this;this.componentRef=e;var a=this.getVideoDataObject(),o={};Sailthru.personalize({sections:[{id:"699f26bc-15e1-11e9-871d-002590d1a41a",selector:"#spm_content",onSuccess:function(e){o=JSON.parse(e.json),t.componentRef.setState({sailthruVideoID:parseInt(o[0].sku,10)},(function(){t.onSailthruRecommendations(t.componentRef.state.sailthruVideoID)}))},context_key:a.url}]})},onSailthruRecommendations:function(e){var t=this;this.componentRef.recommendationRequest=this.componentRef.props.client.query({query:Ae,variables:{id:e,videoRecommendation:null,url:""},fetchPolicy:"network-only"}).then((function(e){t.componentRef.recommendationRequest=null,t.componentRef.processRecommendations(e),t.componentRef.setState({sailthruVideoID:null})})).catch((function(){t.componentRef.failedRecommendationsCallback()}))},getVilynxRecommendations:function(e){var t=this.getVideoDataObject(),a={limit:null!=e.options&&e.options.limit?e.options.limit:1,type:["video"],retrieveguid:!0};vilynxRecommendations.get(t.url,this.onVilynxRecommendations.bind(this),a)},onVilynxRecommendations:function(e){var t=this;e.length&&(this.componentRef.recommendationRequest=this.componentRef.props.client.query({query:Ae,variables:{id:parseInt(e[0],10),url:"",videoRecommendation:null},fetchPolicy:"network-only"}).then((function(e){t.componentRef.recommendationRequest=null,t.componentRef.processRecommendations(e)})).catch((function(){t.componentRef.failedRecommendationsCallback()})))},getParselyRecommendations:function(e){var t=this;this.componentRef=e,this.componentRef.setRecommendationWorkflowState(V);var a=this.getVideoDataObject();this.componentRef.recommendationRequest=this.componentRef.props.client.query({query:Ae,variables:{id:a.id,videoRecommendation:!0,url:a.url},fetchPolicy:"network-only"}).then((function(e){t.componentRef.recommendationRequest=null,t.componentRef.processRecommendations(e)})).catch((function(){t.componentRef.failedRecommendationsCallback()}))}},se=a(1731),le=a.n(se);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return m()(this,a)}}var ue=function(e){u()(a,e);var t=de(a);function a(e){var o;return A()(this,a),o=t.call(this,e),y()(c()(o),"getFooter",(function(){o.footerElement||(o.footerElement=document.getElementById("GlobalFooter"))})),y()(c()(o),"upNextClick",(function(e){if(o.setRecommendationWorkflowState(B),void 0!==e?(o.props.setVideoPlayBackInitiative({playBackInitiative:"Manual"}),e.stopPropagation()):o.props.setVideoPlayBackInitiative({playBackInitiative:"Continuous"}),o.props.videoEndCardInfo&&o.props.videoEndCardInfo.upNextVideoData&&o.props.videoEndCardInfo.upNextVideoData.data){var t=o.state.upNextVideoInfo.data.video,a=o.props.placeholderId,n=o.props.inlineVideoComponent,i=Object(g.a)(a,n);o.props.setPlayerInfo({inlineVideoComponent:n});var A=i.getBoundingClientRect(),r=Math.floor(A.top||A.y||0)+window.pageYOffset,s=Math.floor(A.left||A.x||0)+window.pageXOffset,l=i.scrollWidth>A.width?i.scrollWidth:A.width+1,c=i.scrollHeight>A.height?i.scrollHeight:A.height+1;o.props.setPlaceholderState({sourcePlaceholderId:a}),o.props.getVideoDataWithPosition({sourcePlaceholderId:a,top:r,left:s,width:l,height:c,data:t}),o.setState({lastPlayedVideo:t})}})),y()(c()(o),"replayClick",(function(e){if(void 0!==e){o.props.setVideoPlayBackInitiative({playBackInitiative:"Manual"}),o.setRecommendationWorkflowState(W);var t={pev2:"Video Replay",trkNav:"video:endcard:replay:".concat(o.state.lastPlayedVideo.vcpsId)};D.a.trigger("videoReplay",t),e.stopPropagation()}var a=o.state.lastPlayedVideo;o.props.setPlaceholderState({replayVideo:!0}),o.props.getVideoDataWithPosition({data:a}),void 0!==e&&e.stopPropagation()})),y()(c()(o),"dismissRecommendation",(function(){o.setRecommendationWorkflowState(W),o.props.videoPlayerInfo.layout===S.playerLayoutStates.STICKY_END_CARD?o.setState({layout:o.layoutStates.STICKY_TO_INLINE_SLIDE_OUT}):o.props.videoPlayerInfo.layout===S.playerLayoutStates.ABOVE_FOOTER_END_CARD?o.setState({layout:o.layoutStates.ABOVE_FOOTER_TO_INLINE_SLIDE_OUT}):o.props.videoPlayerInfo.layout===S.playerLayoutStates.INLINE_END_CARD_WITH_TIMER&&o.props.setPlayerInfo({trigger:S.playerLayoutActions.DISMISS})})),y()(c()(o),"dismissRecommendationImplicit",(function(){o.setRecommendationWorkflowState(F),[S.playerLayoutStates.STICKY_END_CARD,S.playerLayoutStates.ABOVE_FOOTER_END_CARD].includes(o.props.videoPlayerInfo.layout)&&o.setState({layout:o.layoutStates.INLINE})})),y()(c()(o),"cancelClick",(function(e){if(o.isBeingDismissed=!0,o.dismissRecommendation(),void 0!==e){e.stopPropagation();var t={},a=o.props.videoDataWithPosition.data.id;t=o.layoutStates.INLINE?{pev2:"Video End Card",trkNav:"video:endcard:cancel:".concat(a)}:{pev2:"Video Docked",trkNav:"video:docked:cancel:".concat(a)},D.a.trigger("videoCancelEndCardExternal",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t))}})),y()(c()(o),"handleAnimationend",(function(){o.state.recommendationWorkflowState===j.RECOMMENDATION_OFFERED&&o.upNextClick()})),y()(c()(o),"handleTransitionComplete",(function(){o.props.setPlayerInfo({trigger:S.playerLayoutActions.DISMISS}),o.setState({layout:o.layoutStates.INLINE})})),y()(c()(o),"getTotalOffset",(function(e){for(var t=0,a=0,o=e;o;)t+=o.offsetTop,a+=o.offsetLeft,o=o.offsetParent;return{y:t,x:a}})),o.myRef=v.a.createRef(),o.layoutStates={INLINE:"INLINE",STICKY:"STICKY",STICKY_TO_INLINE_SLIDE_OUT:"STICKY_TO_INLINE_SLIDE_OUT",ABOVE_FOOTER_TO_INLINE_SLIDE_OUT:"ABOVE_FOOTER_TO_INLINE_SLIDE_OUT"},o.state={recommendationWorkflowState:j.INITIAL,lastPlayedVideo:o.props.currentVideoData,layout:o.layoutStates.INLINE,endCardDisplayed:!1,upNextVideoInfo:null,sailthruVideoID:null},o.footerElement=null,o.style=null,o.handleAnimationend=o.handleAnimationend.bind(c()(o)),o.cancelClick=o.cancelClick.bind(c()(o)),o.dismissRecommendationImplicit=o.dismissRecommendationImplicit.bind(c()(o)),o.isBeingDismissed=!1,o.recommendationConfig={},o.wasActivePlaceholder=null,o.isActivePlaceholder=null,o}return s()(a,[{key:"shouldComponentUpdate",value:function(e,t){var a=S.playerLayoutStates,o=e.videoPlayerInfo.layout||a.HIDDEN,n=!1;if(this.wasActivePlaceholder=this.props.placeholderId===this.props.videoDataWithPosition.sourcePlaceholderId,this.isActivePlaceholder=this.props.placeholderId===e.videoDataWithPosition.sourcePlaceholderId,this.wasActivePlaceholder&&(e.videoDataWithPosition.playStatus!==this.props.videoDataWithPosition.playStatus||this.props.videoDataWithPosition.playStatus===x&&this.state.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE)&&this.setRecommendationWorkflowState(e.videoDataWithPosition.playStatus),this.wasActivePlaceholder&&this.props.videoDataWithPosition.playStatus===L&&[j.RECOMMENDATION_DISMISSED,j.RECOMMENDATION_ACCEPTED].includes(this.state.recommendationWorkflowState)&&this.setRecommendationWorkflowState(e.videoDataWithPosition.playStatus),this.wasActivePlaceholder){if(e.videoEndCardInfo.fetchVideoRecommendation)n=!0;else switch(t.recommendationWorkflowState){case j.INITIAL:case j.REQUEST_COMPLETE:case j.RECOMMENDATION_DISMISSED:n=!0;break;default:n=!1}this.state.recommendationWorkflowState===j.RECOMMENDATION_ACCEPTED&&t.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE&&(n=!0),n=(n=(n=n||[a.INLINE_END_CARD_WITH_TIMER,a.STICKY_END_CARD,a.ABOVE_FOOTER_END_CARD].includes(o)&&[j.REQUEST_COMPLETE].includes(this.state.recommendationWorkflowState))||this.props.videoPlayerInfo.layout!==o&&o===a.STICKY_END_CARD&&this.state.recommendationWorkflowState===j.RECOMMENDATION_OFFERED)||this.props.videoPlayerInfo.layout!==o&&o===a.INLINE_END_CARD_WITH_TIMER&&this.state.recommendationWorkflowState===j.RECOMMENDATION_OFFERED,[j.REQUEST_COMPLETE,j.RECOMMENDATION_OFFERED].includes(t.recommendationWorkflowState)&&!this.state.endCardDisplayed&&this.setState({endCardDisplayed:!0})}else this.isBeingDismissed?(this.isBeingDismissed=!1,this.dismissRecommendation(),n=!0):[j.RECOMMENDATION_DISMISSED,j.RECOMMENDATION_ACCEPTED].includes(this.state.recommendationWorkflowState)?this.state.layout!==this.layoutStates.INLINE&&(this.setState({layout:this.layoutStates.INLINE}),n=!0):[j.REQUEST_IN_PROGRESS,j.REQUEST_COMPLETE,j.RECOMMENDATION_OFFERED].includes(this.state.recommendationWorkflowState)&&t.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE&&(n=!0);return this.wasActivePlaceholder&&!this.isActivePlaceholder&&(n=!0),n}},{key:"componentDidMount",value:function(){this.state.recommendationWorkflowState===j.INITIAL&&this.props.videoRecommendationInfo.videoRecommendation&&re.fetchVideoRecommendation(this,this.getRecommendationConfig()),this.myRef.current&&this.myRef.current.addEventListener("transitionend",this.handleTransitionComplete)}},{key:"componentDidUpdate",value:function(){this.wasActivePlaceholder&&!this.isActivePlaceholder&&this.dismissRecommendationImplicit(),this.props.videoEndCardInfo.fetchVideoRecommendation&&this.state.recommendationWorkflowState===j.INITIAL&&re.fetchVideoRecommendation(this,this.getRecommendationConfig()),this.isActivePlaceholder&&this.state.recommendationWorkflowState===j.REQUEST_COMPLETE&&this.setRecommendationWorkflowState(w),this.getFooter()}},{key:"getRecommendationConfig",value:function(){return"object"===("undefined"==typeof CNBCVideoRecSettingsForEndCard?"undefined":n()(CNBCVideoRecSettingsForEndCard))&&(this.recommendationConfig.provider=CNBCVideoRecSettingsForEndCard.engine,this.recommendationConfig.feedType=CNBCVideoRecSettingsForEndCard.type,this.recommendationConfig.options=CNBCVideoRecSettingsForEndCard.options),this.recommendationConfig}},{key:"preFetchCallback",value:function(){this.setRecommendationWorkflowState(V)}},{key:"processRecommendations",value:function(e){this.props.setVideoEndCardState({upNextVideoData:e}),this.setState({upNextVideoInfo:e}),this.setRecommendationWorkflowState(M),this.props.setVideoRecommendationState({videoRecommendation:!1})}},{key:"failedRecommendationsCallback",value:function(){this.setRecommendationWorkflowState(_)}},{key:"setRecommendationWorkflowState",value:function(e){this.setState((function(t){return{recommendationWorkflowState:U(e,t)}}))}},{key:"render",value:function(){var e,t,a,o,n,i,A=this.state.upNextVideoInfo,r=S.playerLayoutStates,s=this.props.videoPlayerInfo.layout||r.HIDDEN,l=this.props.endCardTitleClassName||le.a.title,c="",d=null,u="",p="",m="",h="",f=this.props.videoDataWithPosition,E=f.data&&f.data.playerConfig&&f.data.playerConfig.stickyPlayerWidth?f.data.playerConfig.stickyPlayerWidth:300,y=.5625*E,I='url("'.concat(k.a,'")'),C=1,N=!0,R={position:"absolute",top:"50%",left:"50%"};P.a.isMobile()&&(C=.68,u=le.a.mobile);var b=this.state.endCardDisplayed?j.DISPLAY_OVERRIDE:this.state.recommendationWorkflowState;this.state.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE&&(b=j.RECOMMENDATION_INACTIVE),this.state.recommendationWorkflowState===j.RECOMMENDATION_ACCEPTED&&(b=j.RECOMMENDATION_ACCEPTED),this.state.recommendationWorkflowState===j.RECOMMENDATION_DISMISSED&&this.state.layout===this.layoutStates.INLINE&&(b=j.RECOMMENDATION_DISMISSED);var g="desktop"===O.a.deviceDetectType()&&this.state.recommendationWorkflowState!==j.RECOMMENDATION_DISMISSED;switch(s){case r.INLINE:case r.STICKY_TO_INLINE_1_STICKY_FADE_OUT:case r.STICKY:case r.INLINE_END_CARD_TIMER_DISMISSED:case r.INLINE_END_CARD_WITH_TIMER:this.style={backgroundImage:I,backgroundSize:"cover"};break;case r.STICKY_END_CARD:N=!1,c="fixed",d=0,a="".concat(40,"px"),n="".concat(40,"px"),e="".concat(E,"px"),t="".concat(y,"px"),u=le.a.sticky,C=.52,this.state.layout===this.layoutStates.STICKY_TO_INLINE_SLIDE_OUT?(p="initial",m="translateX(-".concat(40+E,"px)"),h="all .3s ease-in",this.style={position:c,paddingBottom:d,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:I,backgroundSize:"cover",transform:m,transformOrigin:p,transition:h}):this.style={position:c,paddingBottom:d,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:I,backgroundSize:"cover"};break;case r.ABOVE_FOOTER_END_CARD:if(N=!1,this.getFooter(),null!=this.footerElement){c="absolute",d=0,e="".concat(E,"px"),t="".concat(y,"px"),u=le.a.sticky,C=.52;var D=this.footerElement.getBoundingClientRect().top+window.pageYOffset,T=this.getTotalOffset(this.myRef.current);o=D-40-.5625*E-T.y,a=40-T.x,o="".concat(o,"px"),a="".concat(a,"px"),this.state.layout===this.layoutStates.ABOVE_FOOTER_TO_INLINE_SLIDE_OUT?(p="initial",m="translateX(-".concat(40+E,"px)"),h="all .3s ease-in",this.style={position:c,paddingBottom:d,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:I,backgroundSize:"cover",transform:m,transformOrigin:p,transition:h}):this.style={position:c,paddingBottom:d,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:I,backgroundSize:"cover"}}}switch([j.UNDEFINED,j.INITIAL,j.REQUEST_IN_PROGRESS,j.REQUEST_ERROR].includes(this.state.recommendationWorkflowState)||(i=A&&A.data&&A.data.video?A.data.video:null),b){case j.RECOMMENDATION_ACCEPTED:case j.RECOMMENDATION_INACTIVE:return v.a.createElement("div",null);case j.INITIAL:case j.REQUEST_IN_PROGRESS:return v.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},v.a.createElement("div",{className:"".concat(le.a.endCardWrapper," ").concat(u),style:this.style}));case j.DISPLAY_OVERRIDE:case j.RECOMMENDATION_OFFERED:case j.REQUEST_COMPLETE:return i?(R.top="44%",v.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},v.a.createElement("div",{onClick:this.upNextClick,className:"".concat(le.a.endCardWrapper," ").concat(u),style:this.style,role:"button",tabIndex:"0"},v.a.createElement("span",{role:"button",tabIndex:"0",onClick:this.cancelClick,className:"icon-close"}),s===r.INLINE_END_CARD_WITH_TIMER&&v.a.createElement("div",{onClick:this.replayClick,className:"".concat(le.a.content," ").concat(le.a.replay," ").concat(le.a.small),role:"button",tabIndex:"0"},v.a.createElement("span",{className:"".concat(le.a.compact," icon-replay")}),v.a.createElement("span",{className:"".concat(le.a.eyebrow," ").concat(le.a.compact)},"Watch Again"),v.a.createElement("div",{className:le.a.eyebrow},"Just Watched"),v.a.createElement("div",{className:l},this.state.lastPlayedVideo.title)),v.a.createElement($,{handleAnimationend:this.handleAnimationend,duration:i.playerConfig.endCard.timer,scale:C,style:R,continuousPlay:this.isActivePlaceholder&&g,renderCancelButton:N,cancelClick:this.cancelClick}),v.a.createElement("div",{className:le.a.content},v.a.createElement("div",{className:le.a.eyebrow},"Up Next"),v.a.createElement("div",{className:l},i.title))))):v.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},v.a.createElement("div",{className:"".concat(le.a.endCardWrapper," ").concat(u),style:this.style}));case j.RECOMMENDATION_DISMISSED:return i?v.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},v.a.createElement("div",{onClick:this.upNextClick,className:"".concat(le.a.endCardWrapper," ").concat(u),style:this.style,role:"button",tabIndex:"0"},v.a.createElement("div",{className:"".concat(le.a.content," ").concat(le.a.replay)},v.a.createElement("div",{className:le.a.eyebrow},"Just Watched"),v.a.createElement("div",{className:l},this.state.lastPlayedVideo.title)),v.a.createElement("div",{onClick:this.replayClick,className:"".concat(le.a.content," ").concat(le.a.replay," ").concat(le.a.small),role:"button",tabIndex:"0"},v.a.createElement("span",{className:"".concat(le.a.compact," icon-replay")}),v.a.createElement("span",{className:"".concat(le.a.eyebrow," ").concat(le.a.compact)},"Watch Again"),v.a.createElement("div",{className:le.a.eyebrow},"Just Watched"),v.a.createElement("div",{className:l},this.state.lastPlayedVideo.title)),v.a.createElement($,{scale:C,style:R,continuousPlay:!1,renderCancelButton:!1}),v.a.createElement("div",{onClick:this.upNextClick,className:le.a.content,role:"button",tabIndex:"0"},v.a.createElement("div",{className:le.a.eyebrow},"Up Next"),v.a.createElement("div",{className:l},i.title)))):v.a.createElement("div",null);default:return v.a.createElement("div",null)}}}]),a}(I.Component);ue.propTypes={currentVideoData:N.a.object,videoRecommendationInfo:N.a.object,setVideoEndCardState:N.a.func,videoEndCardInfo:N.a.object,getVideoDataWithPosition:N.a.func,setVideoRecommendationState:N.a.func,videoPlayerInfo:N.a.object,videoDataWithPosition:N.a.object,placeholderId:N.a.string,inlineVideoComponent:N.a.bool,setPlaceholderState:N.a.func,setVideoPlayBackInitiative:N.a.func,setPlayerInfo:N.a.func,endCardTitleClassName:N.a.string},ue.defaultProps={currentVideoData:null,videoRecommendationInfo:{},setVideoEndCardState:null,videoEndCardInfo:{},getVideoDataWithPosition:null,setVideoRecommendationState:null,videoPlayerInfo:{},videoDataWithPosition:{},placeholderId:"",inlineVideoComponent:!1,setPlaceholderState:null,setVideoPlayBackInitiative:function(){},setPlayerInfo:null,endCardTitleClassName:""};var pe=Object(R.c)(ue);t.a=Object(b.b)((function(e){return{videoRecommendationInfo:e.videoRecommendationInfo,videoEndCardInfo:e.videoEndCardInfo,videoPlayerInfo:e.videoPlayerInfo,videoDataWithPosition:e.videoDataWithPosition}}),S)(pe)},859:function(e,t,a){"use strict";var o={isMobile:function(){return"undefined"!=typeof navigator&&(!/ipad|silk/i.test(navigator.userAgent)&&!!/mobi|phone/i.test(navigator.userAgent))},isTablet:function(){return"undefined"!=typeof navigator&&!(this.isMobile()||!(/android|ios|ipad|silk/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))},deviceDetectType:function(){return this.isMobile()?"mobile":this.isTablet()?"tablet":"desktop"},getMobileOperatingSystem:function(){if("undefined"==typeof navigator)return null;var e=navigator.userAgent||navigator.vendor||window.opera;return/crios/i.test(e)?"iOS Chrome":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":null},isBrowserSupportsHLS:function(){return"undefined"!=typeof document&&document.createElement("video").canPlayType("application/vnd.apple.mpegURL")},isChrome66:function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent,t=e.match(/chrome/i);if(null!=t&&"chrome"===t[0].toLowerCase()){var a=t.index,o=e.substring(a+7,a+9);if(!isNaN(o)&&o>=66)return!0}return!1},isCNBCReferrerWithChrome66:function(e){return"undefined"!=typeof document&&(!this.isChrome66()||(!!e||!(document.referrer&&!document.referrer.includes("cnbc.com")||!document.referrer)))},isChrome:function(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Chrome")>-1},isFirefox:function(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Firefox")>-1},isEdge:function(){return"undefined"!=typeof navigator&&"Edge"===navigator.vendor},isSafari:function(){return"undefined"!=typeof navigator&&"Apple Computer, Inc."===navigator.vendor},isDesktopSafari:function(){return this.isSafari()&&"desktop"===this.deviceDetectType()},isTouch:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},isOpera:function(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("OPR")>-1},isSupportedBrowser:function(){return!this.isOpera()&&(!(!this.isChrome()&&!this.isSafari())||!(!this.isFirefox()&&!this.isEdge()||this.isMobile()||this.isTablet()))}};t.a=o},872:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"toggleAriaLabel",(function(){return G})),a.d(t,"PlaceHolder",(function(){return Y}));var o=a(22),n=a.n(o),i=a(36),A=a.n(i),r=a(37),s=a.n(r),l=a(123),c=a.n(l),d=a(68),u=a.n(d),p=a(69),m=a.n(p),h=a(48),f=a.n(h),E=a(4),y=a.n(E),I=a(0),v=a.n(I),C=a(59),N=a(1),R=a.n(N),b=a(53),g=a(1727),D=a(263),P=a(46),O=a(43),S=a(25),T=a(304),k=a(989),V=a(35),_=a(29),M=a(851),w=a(30),B=a(990),W=a(306),L=a(6),F=a(1974),x=a(1732);function j(e){var t=U();return function(){var a,o=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return m()(this,a)}}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var H=Object(C.a)({resolved:{},chunkName:function(){return"components-shared-Card"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:function(){return Promise.all([a.e(3),a.e(25)]).then(a.bind(null,893))},requireAsync:function(e){var t=this,a=this.resolve(e);return this.resolved[a]=!1,this.importAsync(e).then((function(e){return t.resolved[a]=!0,e}))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function e(){return 893}}),Q={};Q[_.b]=Object(M.a)({chunkName:"components/Video/UniversalVideoPlayer/PlaceHolder/styles.cnbc.scss",requireAsync:function(){return a.e(377).then(a.t.bind(null,1350,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1350}}),Q[_.d]=Object(M.a)({chunkName:"components/Video/UniversalVideoPlayer/PlaceHolder/styles.makeit.scss",requireAsync:function(){return a.e(276).then(a.t.bind(null,1351,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1351}});var q="VideoPlaceHolder",G=function(e){return e?"Pause":"Play"},Y=function(e){u()(a,e);var t=j(a);function a(e){var o;return A()(this,a),o=t.call(this,e),y()(c()(o),"removePlayerFromPage",(function(){o.props.getVideoIsPreloader({isPreloader:!0,firstVideoClickedOnPage:!0}),o.props.getVideoDataWithPosition({top:"-3000px",left:"-3000px",data:{},videoAttributes:{}}),o.props.setPlayerInfo({layout:"HIDDEN",playback:!1,adPlayback:!1}),"undefined"!=typeof window&&"function"==typeof window.jwplayer&&"object"===n()(window.jwplayer())&&"function"==typeof window.jwplayer().remove&&(jwplayer().stop(),jwplayer().remove())})),y()(c()(o),"isAutoPlay",(function(e){return e.attributes&&e.attributes.autoPlay||e.videoAttributes&&e.videoAttributes.autoPlay?Object(x.a)():Promise.resolve(!1)})),y()(c()(o),"tryAutoPlay",(function(){o.isDocumentElementExists("Placeholder-".concat(o.props.dataId))&&o.props.placeholderInfo.placeholderState!==L.placeholderStates.END_CARD&&o.isAutoPlay(o.props).then((function(e){e&&o.startPlayback(e,!1)}))})),y()(c()(o),"isDocumentElementExists",(function(e){return e&&document&&document.getElementById(e)})),y()(c()(o),"startPlayback",(function(e,t){var a=o.props.inlineVideoComponent,n=o.props.videoData,i=o.props.brand,A=o.props.attributes,r="Placeholder-".concat(o.props.dataId),s=Object(B.a)(r,a);o.props.setPlayerInfo({inlineVideoComponent:a});var l=s.getBoundingClientRect(),c=Math.floor(l.top||l.y||0)+window.pageYOffset,d=Math.floor(l.left||l.x||0)+window.pageXOffset,u=s.scrollWidth>l.width?s.scrollWidth:l.width+1,p=s.scrollHeight>l.height?s.scrollHeight:l.height+1;if(o.state.endCardState&&o.props.placeholderInfo.id===n.id){var m={pev2:"Video Replay",trkNav:"video:endcard:replay:".concat(n.vcpsId)};w.a.trigger("videoReplay",m),o.props.setEventsInfo({seekedByUser:!1,seekedByUserPause:!1})}o.setState({endCardState:!1}),o.props.setVideoRecommendationState({videoRecommendation:!1});var h="Placeholder-".concat(o.props.dataId),f=window?window.innerWidth:null,E=window?window.innerHeight:null;if(o.props.setPlaceholderState({sourcePlaceholderId:h,inlineVideoComponent:a}),o.props.getVideoDataWithPosition({data:n,videoAttributes:A,top:c,left:d,width:u,height:p,sourcePlaceholderId:h,viewportWidth:f,viewportHeight:E,brand:i}),o.props.getVideoIsPreloader({isPreloader:!1,autoPlay:e}),t)o.props.setVideoPlayBackInitiative({playBackInitiative:"Manual"});else{var y=o.props.page&&o.props.page.page&&"cnbcvideo"===o.props.page.page.type&&document.referrer&&document.referrer.includes("cnbc.com")?"Manual":"Auto",I=o.props.placeholderInfo.playbackInitiative||y;o.props.setVideoPlayBackInitiative({playBackInitiative:I})}})),y()(c()(o),"handleClick",(function(){o.props.setPlaceholderState({replayVideo:!0}),o.startPlayback(!1,!0)})),o.state={endCardState:!1},o.endCardHasBeenDisplayed=!1,o}return s()(a,[{key:"componentWillMount",value:function(){var e=this.context.isMobileWebview;this.isMobileWebview=e,this.runOnce=!0}},{key:"componentWillUnmount",value:function(){this.props.getVideoIsPreloader({firstVideoClickedOnPage:!0}),this.removePlayerFromPage()}},{key:"shouldComponentUpdate",value:function(e){return!e.placeholderInfo.watched||this.isActivePlaceholder(e)}},{key:"isActivePlaceholder",value:function(e){return e.placeholderInfo.sourcePlaceholderId==="Placeholder-".concat(this.props.dataId)}},{key:"componentDidMount",value:function(){this.props.addVideoNIDs(this.props.videoData.id),this.tryAutoPlay()}},{key:"componentDidUpdate",value:function(e){this.props.videoData.id!==e.videoData.id&&this.tryAutoPlay()}},{key:"componentWillReceiveProps",value:function(e){e.page.loading?this.removePlayerFromPage():e.placeholderInfo.watched&&e.placeholderInfo.id!==this.props.placeholderInfo.id&&(this.setState({endCardState:!0}),this.props.setVideoRecommendationState({videoRecommendation:!0}),this.props.setVideoEndCardState({fetchVideoRecommendation:!0}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.videoData,o=t.dataId,n=t.inlineVideoComponent,i=t.placeholderInfo,A=t.idOfVideoInPlayer,r=t.videoPlayerIsVisible,s=t.isRelatedVideo,l=t.recommendedVideo,c=t.styles,d=t.hideByline,u=t.smallMarginBottom,p=t.formattedTimeStamp,m=t.endCard,h=t.hideTitle,f=t.isPro,E=t.isProContent,y=t.queryParams;if(!a||!a.playerConfig)return v.a.createElement(D.a,{data:{error:"PlaceHolder query came back as null"},errorSource:"PlaceHolder",errorProps:this.props});var I=y||{},C=I.ispro,N=I.$DEVICE$,R=["native-android-mobile","native-android-tablet"].includes(N),b=["mobile-native","native-tablet"].includes(N),O=f||b&&"true"===C,S=(a.premium||a.isPro)&&!O&&!R,T=c.inactive,k=this.props.brand===_.b,M=""!==m?m:this.props.attributes.endCard;i.placeholderState===L.placeholderStates.END_CARD&&this.state.endCardState&&(T=c.active);var w=r&&A===a.id,B=i.placeholderState===L.placeholderStates.END_CARD&&this.isActivePlaceholder(this.props);if(B&&(this.endCardHasBeenDisplayed=!0),this.isMobileWebview){var x=this.props.videoData,j=x.url,U=x.type,Q=x.id,Y=x.vcpsId;return S?v.a.createElement("div",{className:W.a.webview}):v.a.createElement("div",{"data-test":q},v.a.createElement(P.b,{to:j,assetType:U,pageID:Q,vcpsId:Y},v.a.createElement(g.a,{recommendedVideo:l,featuredMediaFlag:this.props.featuredMediaFlag,videoData:a,brand:this.props.brand||this.props.videoData.brand,videoIsPlayingOrPaused:w,isRelatedVideo:s,showMetadata:this.props.attributes.showPlayerMetadata,smallMarginBottom:u,isFeaturedBreakerVideo:this.props.isFeaturedBreakerVideo,inlineVideoFooterClassName:this.props.inlineVideoFooterClassName,inlineVideoTitleClassName:this.props.inlineVideoTitleClassName,playButtonClassName:this.props.playButtonClassName,playButtonIconClassName:this.props.playButtonIconClassName,hideTitle:h})))}if(n)return v.a.createElement("div",{role:"button",tabIndex:"0",id:"Placeholder-".concat(o),onClick:this.handleClick,className:Object(V.a)({keyValuePairs:[[c.featuredMediaWrapper,this.props.featuredMediaFlag],["vilynx_disabled",B],["vilynx_registered",this.endCardHasBeenDisplayed]]},c.wrapper),"data-vilynx-id":this.props.videoData.vcpsId,"data-test":q,"aria-label":function(){return G(e.props.playback)}},v.a.createElement(g.a,{recommendedVideo:l,featuredMediaFlag:this.props.featuredMediaFlag,videoData:a,brand:this.props.brand||this.props.videoData.brand,videoIsPlayingOrPaused:w,isRelatedVideo:s,showMetadata:this.props.attributes.showPlayerMetadata,isFeaturedBreakerVideo:this.props.isFeaturedBreakerVideo,inlineVideoFooterClassName:this.props.inlineVideoFooterClassName,inlineVideoTitleClassName:this.props.inlineVideoTitleClassName,playButtonClassName:this.props.playButtonClassName,playButtonIconClassName:this.props.playButtonIconClassName,showProVideoGate:S,smallMarginBottom:u,hideTitle:h}),"NONE"!==M&&k&&v.a.createElement("div",{className:"".concat(c.endCard," ").concat(T)},this.state.endCardState&&k&&v.a.createElement(F.a,{currentVideoData:this.props.videoData,placeholderId:"Placeholder-".concat(o),inlineVideoComponent:!0,dark:this.props.dark,endCardTitleClassName:this.props.endCardTitleClassName})));var z={cnbc:"video"};return console.error("Placeholder is rendering a Card component."),v.a.createElement("div",{role:"button",tabIndex:"0",id:"Placeholder-".concat(o),onClick:this.handleClick,"data-vilynx-id":this.props.videoData.vcpsId,className:Object(V.a)({keyValuePairs:[["vilynx_disabled",B],["vilynx_registered",this.endCardHasBeenDisplayed]]},c.wrapper),"data-test":q,"aria-label":function(){return G(e.props.playback)}},v.a.createElement(H,{video:a,title:a.title,isPro:a.isPro||E,isLive:a.isLive||this.props.isLive,image:"".concat(a.thumbnail||a.image,"&vtcrop=y"),byline:a.byline,timestamp:a.date,dark:this.props.dark,isPackage:a.isPackage||this.props.isPackage,cardType:this.props.cardType,packageTitle:a.packageTitle||this.props.packageTitle,playlistCount:a.playlistCount||this.props.playlistCount,videoTime:a.videoTime||a.duration,videoIsPlayingOrPaused:w,brand:this.props.brand||a.brand,mediaType:z[this.props.brand]||z[a.brand]||"video",url:a.url,sponsoredLogo:a.sponsoredLogo||this.props.sponsoredLogo,sponsorLink:a.sponsorLink||this.props.sponsorLink,dataId:o,inlineVideoPlayback:this.props.inlineVideoPlayback,isSlideshow:this.props.isSlideshow,hero:this.props.hero,hideByline:d,formattedTimeStamp:p,sectionLayout:this.props.sectionLayout,showProVideoGate:S}),"NONE"!==M&&k&&v.a.createElement("div",{className:"".concat(c.endCard," ").concat(T)},this.state.endCardState&&k&&v.a.createElement(F.a,{currentVideoData:this.props.videoData,dark:this.props.dark,endCardTitleClassName:this.props.endCardTitleClassName})))}}]),a}(I.Component);function z(e){return{placeholderInfo:e.placeholderInfo,navStatus:e.navStatus,page:e.page,idOfVideoInPlayer:Object(k.a)(e.videoDataWithPosition.data)?null:e.videoDataWithPosition.data.id,videoPlayerIsVisible:!e.videoPlayerInfo||e.videoPlayerInfo.layout!==L.playerLayoutStates.HIDDEN,playback:e.videoPlayerInfo.playback}}y()(Y,"contextType",O.a),Y.propTypes={getVideoDataWithPosition:R.a.func,videoData:R.a.object,dataId:R.a.oneOfType([R.a.string,R.a.number]),isLive:R.a.bool.isRequired,isPro:R.a.bool.isRequired,isProContent:R.a.bool,isRelatedVideo:R.a.bool,isPackage:R.a.bool,cardType:R.a.string.isRequired,packageTitle:R.a.string,playlistCount:R.a.string,brand:R.a.string,dark:R.a.bool,sponsoredLogo:R.a.string,sponsorLink:R.a.string,inlineVideoPlayback:R.a.bool,isSlideshow:R.a.bool,inlineVideoComponent:R.a.bool,placeholderInfo:R.a.object,getVideoIsPreloader:R.a.func,setPlaceholderState:R.a.func,setVideoRecommendationState:R.a.func,hero:R.a.bool,setEventsInfo:R.a.func,setVideoEndCardState:R.a.func,setPlayerInfo:R.a.func,setVideoPlayBackInitiative:R.a.func,page:R.a.object,idOfVideoInPlayer:R.a.number,videoPlayerIsVisible:R.a.bool,attributes:R.a.object,featuredMediaFlag:R.a.bool,isFeaturedBreakerVideo:R.a.bool,addVideoNIDs:R.a.func,recommendedVideo:R.a.bool,styles:R.a.object.isRequired,hideByline:R.a.bool,formattedTimeStamp:R.a.string,endCard:R.a.string,inlineVideoFooterClassName:R.a.string,inlineVideoTitleClassName:R.a.string,playButtonClassName:R.a.string,playButtonIconClassName:R.a.string,endCardTitleClassName:R.a.string,playback:R.a.bool,queryParams:R.a.object,sectionLayout:R.a.string,hideTitle:R.a.bool,smallMarginBottom:R.a.bool},Y.defaultProps={getVideoDataWithPosition:null,data:{},videoData:{},dataId:0,title:"",image:"",isLive:!1,isRelatedVideo:!1,isFeaturedBreakerVideo:!1,isPro:!1,isProContent:!1,byline:"",isPackage:!1,cardType:"",packageTitle:"",playlistCount:null,videoTime:"",brand:"cnbc",dark:!1,sponsoredLogo:null,sponsorLink:"",url:"",inlineVideoPlayback:!0,isSlideshow:!1,inlineVideoComponent:!1,placeholderInfo:{},getVideoIsPreloader:null,setPlaceholderState:null,setVideoRecommendationState:null,hero:!1,setEventsInfo:null,setVideoEndCardState:null,setPlayerInfo:function(){},setVideoPlayBackInitiative:function(){},page:{},idOfVideoInPlayer:null,videoPlayerIsVisible:!1,attributes:{endCard:"REC_OR_REPLAY",showPlayerMetadata:!0,autoPlay:!1},featuredMediaFlag:!1,addVideoNIDs:function(){},recommendedVideo:!1,hideByline:!1,formattedTimeStamp:"",endCard:"",inlineVideoFooterClassName:"",inlineVideoTitleClassName:"",playButtonClassName:"",playButtonIconClassName:"",endCardTitleClassName:"",playback:!1,queryParams:{},sectionLayout:_.c.unspecified,hideTitle:!1,smallMarginBottom:!1},t.default=Object(b.b)(z,L)(Object(T.a)(Object(M.b)(Q,Object(S.a)(Y))))}.call(this,"/")},989:function(e,t,a){"use strict";function o(e){return!Object.keys(e||{}).length}a.d(t,"a",(function(){return o}))},990:function(e,t,a){"use strict";function o(e,t){var a=!t,o=document.getElementById(e);return a?o&&o.querySelectorAll('div[class*="mediaContainer"]')[0]:o}a.d(t,"a",(function(){return o}))}}]);
//# sourceMappingURL=../../source-maps/components-Column~components-PcmModule-DynamicContentFeedContainer~components-PcmModule-VideoBreaker~7640af8f-28456413f315404f1461.js.map